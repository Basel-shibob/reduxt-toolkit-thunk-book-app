{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nexport const getBooks = createAsyncThunk('book/getBooks', async (_, thunkAPI) => {\n  try {\n    const res = await fetch(\"http://localhost:3005/books\");\n    const data = await res.json();\n    return data;\n  } catch (err) {\n    console.log(err);\n  }\n});\nconst bookSlice = createSlice({\n  name: 'book',\n  initialState: {\n    books: [],\n    isLoading: false\n  },\n  extraReducers: {\n    [getBooks.pending]: (state, action) => {\n      state.isLoading = true;\n      state.error = null;\n    },\n    [getBooks.fulfilled]: (state, action) => {\n      state.isLoading = false;\n      state.books = action.payload;\n    },\n    [getBooks.rejected]: (state, action) => {\n      state.isLoading = false;\n      state.error = action.payload;\n    }\n  }\n});\nexport default bookSlice;","map":{"version":3,"sources":["/home/ahmed/Documents/Basel's-work web/REACT JS/reduxt-toolkit-thunk-book-app/React/src/store/bookSlice.js"],"names":["createSlice","createAsyncThunk","getBooks","_","thunkAPI","res","fetch","data","json","err","console","log","bookSlice","name","initialState","books","isLoading","extraReducers","pending","state","action","error","fulfilled","payload","rejected"],"mappings":"AACA,SAASA,WAAT,EAAsBC,gBAAtB,QAA8C,kBAA9C;AAEA,OAAO,MAAMC,QAAQ,GAAGD,gBAAgB,CACpC,eADoC,EAGpC,OAAOE,CAAP,EAAUC,QAAV,KAAuB;AACnB,MAAI;AACA,UAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,6BAAD,CAAvB;AACA,UAAMC,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;AACA,WAAOD,IAAP;AACH,GAJD,CAIE,OAAOE,GAAP,EAAY;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH;AACJ,CAXmC,CAAjC;AAaP,MAAMG,SAAS,GAAGZ,WAAW,CAAC;AAC1Ba,EAAAA,IAAI,EAAE,MADoB;AAE1BC,EAAAA,YAAY,EAAE;AAAEC,IAAAA,KAAK,EAAE,EAAT;AAAaC,IAAAA,SAAS,EAAE;AAAxB,GAFY;AAG1BC,EAAAA,aAAa,EAAE;AACX,KAACf,QAAQ,CAACgB,OAAV,GAAoB,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACnCD,MAAAA,KAAK,CAACH,SAAN,GAAkB,IAAlB;AACAG,MAAAA,KAAK,CAACE,KAAN,GAAc,IAAd;AACD,KAJQ;AAKT,KAACnB,QAAQ,CAACoB,SAAV,GAAsB,CAACH,KAAD,EAAQC,MAAR,KAAmB;AACvCD,MAAAA,KAAK,CAACH,SAAN,GAAkB,KAAlB;AACAG,MAAAA,KAAK,CAACJ,KAAN,GAAcK,MAAM,CAACG,OAArB;AACD,KARQ;AAST,KAACrB,QAAQ,CAACsB,QAAV,GAAqB,CAACL,KAAD,EAAQC,MAAR,KAAmB;AACtCD,MAAAA,KAAK,CAACH,SAAN,GAAkB,KAAlB;AACAG,MAAAA,KAAK,CAACE,KAAN,GAAcD,MAAM,CAACG,OAArB;AACD;AAZQ;AAHW,CAAD,CAA7B;AAmBA,eAAeX,SAAf","sourcesContent":["\nimport { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\n\nexport const getBooks = createAsyncThunk(\n    'book/getBooks',\n\n    async (_, thunkAPI) => {\n        try {\n            const res = await fetch(\"http://localhost:3005/books\");\n            const data = await res.json();\n            return data\n        } catch (err) {\n            console.log(err);\n        }\n    })\n\nconst bookSlice = createSlice({\n    name: 'book',\n    initialState: { books: [], isLoading: false },\n    extraReducers: {\n        [getBooks.pending]: (state, action) => {\n            state.isLoading = true;\n            state.error = null;\n          },\n          [getBooks.fulfilled]: (state, action) => {\n            state.isLoading = false;\n            state.books = action.payload;\n          },\n          [getBooks.rejected]: (state, action) => {\n            state.isLoading = false;\n            state.error = action.payload;\n          },\n    },\n})\n\nexport default bookSlice;\n"]},"metadata":{},"sourceType":"module"}